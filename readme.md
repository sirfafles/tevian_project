# FastAPI Face Recognition

## Основные возможности
- Управление задачами (создание, удаление).
- Загрузка изображений к задачам.
- Распознавание лиц через API FaceCloud.
- Хранение информации о задачах, изображениях и результатах распознавания в базе данных PostgreSQL.

## Требования для запуска

1. Установите Docker:\
   sudo snap install docker(для Ubuntu)\
   либо\
   Смотрите инструкцию: [Установка Docker](https://docs.docker.com/get-docker/)
2. Создать демо аккаунт https://docs.facecloud.tevian.ru/, получить jwt токен(потребуется при создание .env файла)
3. Создание .env файла:\
  В проекте лежит .env.example, согласно ему необходимо создать .env файл
4. Запуск проекта:\
запустить проект командой sudo docker-compose up --build


## Описание api
1. Создание задачи
- **URL:** `/tasks/`
- **Метод:** `POST`
- **Описание:** Создает новую задачу.

2. Получение задачи
- **URL**: `/tasks/{task_id}`
- **Метод**: `GET`
- **Описание**: Получает задачу по её ID, в ответе находятся все изображения связанные с задачей, а так же все лица найденные на загруженных фото, а также статистика.
- task_id (integer): ID задачи, которую нужно получить.
3. Удаление задачи
- **URL**: `/tasks/{task_id}`
- **Метод**: `DELETE`
- **Описание**: Удаляет задачу по её ID, а так же каскадно удаляет все связанные с ней изображения и лица. Удаляет хранящиеся изображения в локальной папке.
- task_id (integer): ID задачи, которую нужно удалить.
4. Загрузка изображения
- **URL**: `/tasks/{task_id}/images/`
- **Метод**: `POST`
- **Описание**: Загружает изображение и обрабатывает его для конкретной задачи, заносит данные в бд и сохраняет изображение на локальный диск.
- task_id (integer): ID задачи, с которой будет связано изображение.